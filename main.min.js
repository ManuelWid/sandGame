function e(){a.begin();for(let e=d-1;e>=0;e--){const n=[];for(let o=0;o<u;o++){let o=t(n);const l=R[o][e];if(0!==l)if(0!==R[o][e+1]){const t=R[o-1]&&0===R[o-1][e+1],n=R[o+1]&&0===R[o+1][e+1];if(t&&n){const t=Math.random()<.5?-1:1;R[o+t][e+1]=l,R[o][e]=0,E.clearRect(o*m,e*h,m,h),E.fillStyle=l.color,E.fillRect((o+t)*m,(e+1)*h,m,h);continue}if(t){R[o-1][e+1]=l,R[o][e]=0,E.clearRect(o*m,e*h,m,h),E.fillStyle=l.color,E.fillRect((o-1)*m,(e+1)*h,m,h);continue}if(n){R[o+1][e+1]=l,R[o][e]=0,E.clearRect(o*m,e*h,m,h),E.fillStyle=l.color,E.fillRect((o+1)*m,(e+1)*h,m,h);continue}}else R[o][e+1]=l,R[o][e]=0,E.clearRect(o*m,e*h,m,h),E.fillStyle=l.color,E.fillRect(o*m,(e+1)*h,m,h)}}a.end(),requestAnimationFrame(e)}function t(e){let n=Math.floor(Math.random()*u);return e.includes(n)?t(e):(e.push(n),n)}function n(e){for(let t=-w;t<=w;t++)for(let n=-w;n<=w;n++)Math.random()<.5||R[b.x+t]&&0===R[b.x+t][b.y+n]&&(R[b.x+t][b.y+n]=e)}function o(e){const{x:t,y:n}=S.getBoundingClientRect();b.x=Math.floor((e.clientX-t)/m),b.y=Math.floor((e.clientY-n)/h)}function l(e,t,n=0){const o=[];for(let l=0;l<t;l++){o[l]=[];for(let t=0;t<e;t++)o[l][t]=n}return o}import{Particle as c}from"./class/Particle.js";import{random as i,drawGrid as r}from"./utils/utils.js";var a=new Stats;a.showPanel(0),document.body.appendChild(a.dom);const f=500,s=500,d=250,u=d,m=f/d,h=s/u;let y,R=l(d,u);const v=100,w=4;let x="sand",g=0;const p=["#f6d7b0","#f2d2a9","#eccca2","#e7c496","#e1bf92"],M=["#0f5e9c","#2389da","#1ca3ec","#5abcd8","#74ccf4"],b={x:0,y:0},S=document.getElementById("canvas");S.width=f,S.height=s;const E=S.getContext("2d");S.addEventListener("mousedown",()=>{y=setInterval(()=>{n(new c(i(p)))},100)}),window.addEventListener("mouseup",()=>{clearInterval(y)}),S.addEventListener("mousemove",o),requestAnimationFrame(e);